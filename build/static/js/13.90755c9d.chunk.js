(this["webpackJsonpshekung-frontend"]=this["webpackJsonpshekung-frontend"]||[]).push([[13],{141:function(e,t,r){"use strict";r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return b})),r.d(t,"a",(function(){return v})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return x}));var n=r(147),a=r.n(n),c=r(148),s=r(21),o=r(65),u=r(168),i=r.n(u),l=r(63),p=r.n(l);i.a.defaults.baseURL="http://13.127.152.236/api/",i.a.defaults.withCredentials=!0;var d=function(e){return e.data};i.a.interceptors.request.use((function(e){var t=p.a.get("sheToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),i.a.interceptors.response.use(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=!e.response;switch(t.status){case 401:console.log("Logout user!");break;case 403:console.log("You are not allowed to do that!")}return Promise.reject(e.response)}));var h={get:function(e,t){return i.a.get(e,{params:t}).then(d)},post:function(e,t){return i.a.post(e,t).then(d)},put:function(e,t){return i.a.put(e,t).then(d)},patch:function(e,t){return i.a.patch(e,t).then(d)},delete:function(e){return i.a.delete(e).then(d)},postForm:function(e,t){return i.a.post(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(d)},putForm:function(e,t){return i.a.put(e,t,{headers:{"Content-type":"multipart/form-data"}}).then(d)}},f={position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0},m=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:s.a.LOGIN_REQUEST}),r.next=4,h.post("authentication/login/",e);case 4:c=r.sent,n({type:s.a.LOGIN_FINISH,payload:{name:c.data.name,email:c.data.email}}),p.a.set("sheToken",c.data.tokens),t.push("/"),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),n({type:s.a.LOGIN_FAIL}),r.t0&&500===r.t0.status?o.b.error(r.t0.data.errors.non_field_errors,f):r.t0&&400===r.t0.status&&o.b.error(r.t0.data.errors.error[0],f);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:s.a.SIGNUP_REQUEST}),r.next=4,h.post("authentication/register/",e);case 4:r.sent,n({type:s.a.SIGNUP_FINISH,payload:e}),localStorage.setItem("email",e.email),t.push("/verify"),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),n({type:s.a.SIGNUP_FAIL}),400===(null===r.t0||void 0===r.t0?void 0:r.t0.status)&&o.b.error(r.t0.data.errors.email);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.get("authentication/email-verify/?token=".concat(e));case 3:return n=t.sent,window.location.replace("success"),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),o.b.error();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:s.a.EMAIL_VERIFY_REQUEST}),r.next=4,h.post("authentication/request-reset-email/",e);case 4:c=r.sent,n({type:s.a.EMAIL_VERIFY_FINISH}),t.push("/login"),o.b.success(c.data.success,f),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),n({type:s.a.EMAIL_VERIFY_FAIL}),o.b.error("E-mail not found",f);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},x=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:s.a.EMAIL_VERIFY_REQUEST}),r.next=4,h.patch("authentication/password-reset-complete/",e);case 4:c=r.sent,n({type:s.a.EMAIL_VERIFY_FINISH}),t.push("/login"),o.b.success(c.data.message,f),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),o.b.error("Internal Server Error",f);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}},142:function(e,t,r){"use strict";t.a=r.p+"static/media/logo.f7da92ab.svg"},143:function(e,t,r){"use strict";r(0),r(154);var n=r(3);t.a=function(e){var t=e.error,r=e.touched;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"text-danger err",children:t&&r?t:null})})}},154:function(e,t,r){},202:function(e,t,r){},437:function(e,t,r){"use strict";r.r(t);r(0);var n=r(151),a=r(152),c=r(142),s=r(208),o=r(64),u=r(5),i=r(137),l=r(143),p=(r(202),r(141)),d=r(3),h=a.b({email:a.d().email("Invalid emial").required("Email is required")});t.default=function(){var e=Object(o.c)((function(e){return e.authReducer})).isLoading,t=Object(o.b)(),r=Object(u.g)(),a=Object(n.a)({initialValues:{email:""},validationSchema:h,onSubmit:function(e){t(Object(p.d)(e,r))}}),f=a.handleSubmit,m=a.handleChange,b=a.handleBlur,v=a.values,j=a.errors,x=a.touched,O=Object(s.a)().t;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"logo_1",children:Object(d.jsx)("img",{src:c.a,alt:"..."})}),Object(d.jsxs)("div",{className:"main_div",children:[Object(d.jsx)("h3",{className:"text-center",children:O("forgot.heading")}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-4 col-md-4"}),Object(d.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(d.jsxs)("form",{className:"set_form",onSubmit:f,children:[Object(d.jsxs)("div",{className:"err",children:[Object(d.jsxs)("label",{htmlFor:"email",children:[O("forgot.label")," ",Object(d.jsx)("span",{children:"*"})]}),Object(d.jsx)("input",{name:"email",type:"email",className:"w-100 mt-2",onChange:m,value:v.email,onBlur:b,autoComplete:"off"}),Object(d.jsx)(l.a,{error:j.email,touched:x.email})]}),Object(d.jsx)("button",{className:"w-100 my-4 login-button",type:"submit",children:e?Object(d.jsx)(i.a,{color:"secondary",className:"my-2"}):O("forgot.button")})]})}),Object(d.jsx)("div",{className:"col-sm-4 col-md-4"})]})]})]})})}}}]);
//# sourceMappingURL=13.90755c9d.chunk.js.map