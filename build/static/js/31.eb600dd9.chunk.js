(this["webpackJsonpshekung-frontend"]=this["webpackJsonpshekung-frontend"]||[]).push([[31],{183:function(t,e,n){"use strict";n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return b})),n.d(e,"f",(function(){return m})),n.d(e,"h",(function(){return j})),n.d(e,"b",(function(){return O})),n.d(e,"i",(function(){return x})),n.d(e,"a",(function(){return _})),n.d(e,"g",(function(){return I})),n.d(e,"c",(function(){return y})),n.d(e,"j",(function(){return E}));var a=n(1),r=n(7),c=n.n(r),o=n(15),s=n(11),u=n(10),i=n(19),l=n(37),d=n(34),p=n.n(d),v=n(207),f=n.n(v),h=function(t,e,n){return function(){var a=Object(o.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:s.a.LOGIN_REQUEST}),a.next=4,i.a.post("authentication/login/",t);case 4:o=a.sent,r({type:s.a.LOGIN_FINISH,payload:{name:o.data.name,email:o.data.email}}),p.a.set("sheToken",o.data.tokens),n?e.push(n):e.push("/MyProgress"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:s.a.LOGIN_FAIL}),a.t0&&500===a.t0.status?u.b.error(a.t0.data.message,l.a):a.t0&&400===a.t0.status&&u.b.error(a.t0.data.errors.error[0],l.a);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(t){return a.apply(this,arguments)}}()},b=function(t){return function(){var e=Object(o.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.remove("sheToken"),n({type:s.a.LOGIN_FAIL}),t.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t,e){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.a.SIGNUP_REQUEST}),n.next=4,i.a.post("authentication/register/",t);case 4:r=n.sent,a({type:s.a.SIGNUP_FINISH,payload:t}),p.a.set("sheToken",r.data.token),e.push("/MyProgress"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:s.a.SIGNUP_FAIL}),400===(null===n.t0||void 0===n.t0?void 0:n.t0.status)?u.b.error(n.t0.data.errors.error[0],l.a):500===(null===n.t0||void 0===n.t0?void 0:n.t0.status)&&u.b.error("Not valid OTP",l.a);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t){return n.apply(this,arguments)}}()},j=function(t,e,n){return function(){var a=Object(o.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.post("social_auth/google/",t);case 3:o=a.sent,r({type:s.a.LOGIN_FINISH,payload:{name:o.data.username,email:o.data.email}}),p.a.set("sheToken",o.data.tokens.access),n?e.push(n):e.push("/MyProgress"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),u.b.error("Google Login failed.",l.a);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(t){return a.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(o.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:s.a.CONTACT_VERIFY_REQUEST}),e.next=4,i.a.post("authentication/user-send-otp/",{contact:t.contact.toString()});case 4:a=e.sent,n({type:s.a.CONTACT_VERIFY_FINISH}),u.b.success(a.message,l.a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:s.a.CONTACT_VERIFY_FAIL}),400===(null===e.t0||void 0===e.t0?void 0:e.t0.status)&&u.b.error(e.t0.data.errors.error[0],l.a);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(t,e){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.a.EMAIL_VERIFY_REQUEST}),n.next=4,i.a.post("authentication/request-reset-email/",t);case 4:r=n.sent,a({type:s.a.EMAIL_VERIFY_FINISH}),e.push("/login"),u.b.success(r.data.success,l.a),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:s.a.EMAIL_VERIFY_FAIL}),u.b.error("E-mail not found",l.a);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t){return n.apply(this,arguments)}}()},_=function(t,e){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.a.RESET_PASSWORD_REQUEST}),n.next=4,i.a.post("/authentication/change_password/",t);case 4:r=n.sent,a({type:s.a.RESET_PASSWORD_FINISH}),p.a.remove("sheToken"),e.push("/login"),u.b.success(r.message,l.a),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:s.a.RESET_PASSWORD_FAIL}),400===n.t0.status&&u.b.error(n.t0.data.errors.old_password.old_password,l.a);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}()},I=function(){return function(){var t=Object(o.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.a.get("sheToken")&&e({type:s.a.REFRESH});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var t=Object(o.a)(c.a.mark((function t(e){var n,r,o,d,p,v,h,b,m,j,O,x,_;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:s.a.USER_PROFILE_REQUEST}),t.next=4,i.a.get("/authentication/user-profile/");case 4:_=t.sent,e({type:s.a.USER_PROFILE_FINISH,payload:Object(a.a)(Object(a.a)({},null===_||void 0===_?void 0:_.data),{},{contact:(null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.contact)?(null===_||void 0===_||null===(r=_.data)||void 0===r||null===(o=r.contact)||void 0===o?void 0:o.includes("+91"))?null===_||void 0===_||null===(p=_.data)||void 0===p?void 0:p.contact:"+91 ".concat(null===_||void 0===_||null===(d=_.data)||void 0===d?void 0:d.contact):null,profile_pic:(null===_||void 0===_||null===(v=_.data)||void 0===v?void 0:v.profile_pic)?(null===_||void 0===_||null===(h=_.data)||void 0===h||null===(b=h.profile_pic)||void 0===b?void 0:b.includes("http://3.109.195.234"))?null===_||void 0===_||null===(m=_.data)||void 0===m?void 0:m.profile_pic:"http://3.109.195.234".concat(null===_||void 0===_||null===(j=_.data)||void 0===j?void 0:j.profile_pic):null,dob:(null===_||void 0===_||null===(O=_.data)||void 0===O?void 0:O.dob)?f()(null===_||void 0===_||null===(x=_.data)||void 0===x?void 0:x.dob).format("DD-MM-YYYY"):null})}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:s.a.USER_PROFILE_FAIL}),400===(null===t.t0||void 0===t.t0?void 0:t.t0.status)?u.b.error(t.t0.data.errors.error[0],l.a):500===(null===t.t0||void 0===t.t0?void 0:t.t0.status)&&u.b.error("Internal Server Error",l.a);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},E=function(t,e){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:s.a.USER_PROFILE_UPDATE}),r=i.a.createFormData(e),n.next=5,i.a.putForm("/authentication/user-profile-update/".concat(t,"/"),r);case 5:o=n.sent,a(y()),u.b.success(o.message,l.a),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),u.b.error("Internal Server Error",l.a);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t){return n.apply(this,arguments)}}()}},185:function(t,e,n){"use strict";n(0),n(193);var a=n(4);e.a=function(t){var e=t.error,n=t.touched;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"text-danger err",children:e&&n?e:null})})}},193:function(t,e,n){},300:function(t,e,n){"use strict";e.a=n.p+"static/media/logo.f7da92ab.svg"},301:function(t,e,n){},569:function(t,e,n){"use strict";n.r(e);n(0);var a=n(191),r=n(192),c=n(300),o=n(538),s=n(79),u=n(9),i=n(158),l=n(185),d=(n(301),n(183)),p=n(4),v=r.b({email:r.d().email("Invalid emial").required("Email is required")});e.default=function(){var t=Object(s.c)((function(t){return t.authReducer})).isLoading,e=Object(s.b)(),n=Object(u.g)(),r=Object(a.a)({initialValues:{email:""},validationSchema:v,onSubmit:function(t){e(Object(d.i)(t,n))}}),f=r.handleSubmit,h=r.handleChange,b=r.handleBlur,m=r.values,j=r.errors,O=r.touched,x=Object(o.a)().t;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"logo_1",children:Object(p.jsx)("img",{src:c.a,alt:"..."})}),Object(p.jsxs)("div",{className:"main_div",children:[Object(p.jsx)("h3",{className:"text-center",children:x("forgot.heading")}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-sm-4 col-md-4"}),Object(p.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(p.jsxs)("form",{className:"set_form",onSubmit:f,children:[Object(p.jsxs)("div",{className:"err",children:[Object(p.jsxs)("label",{htmlFor:"email",children:[x("forgot.label")," ",Object(p.jsx)("span",{children:"*"})]}),Object(p.jsx)("input",{name:"email",type:"email",className:"w-100 mt-2",onChange:h,value:m.email,onBlur:b,autoComplete:"off"}),Object(p.jsx)(l.a,{error:j.email,touched:O.email})]}),Object(p.jsx)("button",{className:"w-100 my-4 login-button",type:"submit",children:t?Object(p.jsx)(i.a,{color:"secondary",className:"my-2"}):x("forgot.button")})]})}),Object(p.jsx)("div",{className:"col-sm-4 col-md-4"})]})]})]})})}}}]);
//# sourceMappingURL=31.eb600dd9.chunk.js.map